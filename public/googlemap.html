<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" href="pictures/letterlogo.png">
    <meta name="viewport" content="user-scalable=no" height=device-height/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Map</title>
    <script src="js/parse-1.6.14.min.js"></script>
    <script>
      Parse.initialize("R6Za2GZWzmkKmvssylL7J9qyVxmP2rPgxoYmOvMq", "qzqQDTPpWPmyYNvWaN5ON9YtnWhFS8mGKHO9UrBO");
      var currentUser = Parse.User.current();
      if(currentUser) {
      } else {
        window.location.href = "./index.html";
      }
    </script>
    <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0; }
      .controls {
        margin-top: 10px;
        border: 1px solid transparent;
        border-radius: 2px 0 0 2px;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        height: 32px;
        outline: none;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      }

      #pac-input {
        background-color: #fff;
        font-family: Roboto;
        font-size: 15px;
        font-weight: 300;
        margin-left: 12px;
        padding: 0 11px 0 13px;
        text-overflow: ellipsis;
        width: 300px;
      }

      #pac-input:focus {
        border-color: #4d90fe;
      }

      .pac-container {
        font-family: Roboto;
      }

      #type-selector {
        color: #fff;
        background-color: #4d90fe;
        padding: 5px 11px 0px 11px;
      }

      #type-selector label {
        font-family: Roboto;
        font-size: 13px;
        font-weight: 300;
      }

      #map {
        position: absolute;
        width: 100%;
        height: 100%;
        bottom: 0px;
        right: 0px;
      }

      #mapcontainer {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 50px;
      }
    </style>
    <script src="js/jquery-1.11.3.js" ></script>
    <script src="js/jquery-ui.js"></script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAUCWBiWilqVGMV2P0ILQVPt6ISat2Dm9Y&libraries=places&v=3.20&sensor=false">
    </script>

    <script src="js/infobox.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/autosize.js"></script>
    <script src="js/tools.js"></script>
    <script src="js/googlemap.js"></script>

    <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="css/stickyfooter.css" rel="stylesheet" type="text/css" />

    <link href="css/bunpage.css" rel="stylesheet" type="text/css" />
    <link href="css/bun.css" rel="stylesheet" type="text/css" />
    <link href="css/googlemap.css" rel="stylesheet" type="text/css" />

  </head>
  <body>
    <div id="justblackbackground">
    </div>

    <div id="galleryoverlay">
      <div class="folder">
        <div class="holder">
          <div id="navleft">
            <img src="pictures/navleft.png" />
          </div>
          <div id="navright">
            <img src="pictures/navright.png" />
          </div>

        </div>
      </div>
      <img id="actualimage" src=""/><button type="button" class="close gallerycloser" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    </div>


    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="./mainpage.html" id="header"><img id="wordlogo" src="pictures/wordlogo.png"/></a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
              <!--<li><a href="#">Settings</a></li>-->
              <li class="shownmenu foruser"><a href="" id="getnotification"><img src="pictures/notificationsquare.png" />Notifications</a>
                <div id='notificationbox'>
                <div id="notheader">Notifications<span class="notnumber"></span></div>
              </div></li>
              <li class="shownmenu">
                <a href="" id="headerprofile">
                  <div id="header-div"><img src="pictures/profile.png" id="headerprofilepic"/></div>

                </a>
                <div id="profilebox">
                  <a href="./mypage.html"><img src="pictures/profileblue.png" />My Profile</a>
                  <a href="./about.html"><img src="pictures/about.png" />About</a>
                  <a href="" id="logout">Logout</a>
                </div>
              </li>
              <li class="hiddenmenu"><a href="./post.html"><img src="pictures/post3.png" class="" />Make a Post</a></li>
              <li class="hiddenmenu"><a href="./archive.html"><img src="pictures/archive1.png" class="" />Archive</a></li>
              <li class="hiddenmenu"><a href="./taglist.html"><img src="pictures/tag3.png" />Taglist</a></li>
              <li class="hiddenmenu"><a href="./googlemap.html"><img src="pictures/map1.png" />Map your Area</a></li>
              <li class="hiddenmenu"><a href="./mypage.html"><img src="pictures/profileblue.png" />My Profile</a></li>
              <li class="hiddenmenu"><a href="./about.html"><img src="pictures/about.png" />About</a></li>
              <li class="hiddenmenu"><a href="" id="logout2">Logout</a></li>
            </ul>
        </div>
      </div>
    </nav>

    <input id="pac-input" class="controls" type="text" placeholder="Search Box"></input>

    <div id="mapcontainer">
      <div id="sidebarholder">
        <div class="sideborder"></div>
        <div id="sidebar"><div class="markerheader">
          <span class="markerdistance"></span>
          <img src="pictures/foodtype.png" />
          <span class="markertitle"></span><div class="markerinfo"><div id="sidepicframe"><img src="" id="sidepic"/></div><span class="markerauthor"></span><span class="markerdate"></span></div></div>
        </div>
      </div>
      <div id="map"></div>
    </div>
    <div id="overlayfull"></div>

    <div id="markerlabeling">
      <input type="text" class="form-control" id="labeler" placeholder="Marker label" spellcheck="false" autofocus>
      <div id="displayarea"></div>
    </div>
    <div id="labelingbackground">
    </div>

    <div id="markertype">
      <span class="typeline">
        <div class="typebutton" id="foodtype">
          <img src="pictures/foodtype.png" />
          <div class="typename">Food</div>
        </div>
        <div class="typebutton" id="entertainmenttype">
          <img src="pictures/entertainment.png" />
          <div class="typename">Entertainment</div>
          <div class="typename"></div>
        </div>
      </span class="typeline">
      <span class="typeline">
        <div class="typebutton" id="hoteltype">
          <img src="pictures/hotel.png" />
          <div class="typename">Hotel</div>
        </div>
        <div class="typebutton" id="transportationtype">
          <img src="pictures/transportation.png" />
          <div class="typename">Transportation</div>
        </div>
      </span>
      <span class="typeline">
        <div class="typebutton" id="touristtype">
          <img src="pictures/tourist.png" />
          <div class="typename">Tourist</div>
        </div>
        <div class="typebutton" id="utiltype">
          <img src="pictures/marker.png" />
          <div class="typename">Util.</div>
        </div>
      </span>
    </div>

    <script>
      console.log($('body').height());
//      $('#map').css('margin-top', '150px');
      $('#mapcontainer').height($('body').height() - 50 + 'px');
      $(window).resize( function() {
        console.log("Window resized", $('window').height());
        $('#mapcontainer').height($('body').height() - 50 + 'px');
      });
      initMap();
    </script>

    <div id="mapthearea" class="floatbutton" title="Map of the area">
      <img src="pictures/map1.png" />
    </div>
    <div id="taglist" class="floatbutton" title="List of tags ">
      <img src="pictures/tag3.png" />
    </div>
    <div id="archive" class="floatbutton" title="Archive">
      <img src="pictures/archive1.png" class="" />
    </div>
    <div id="makepost" class="floatbutton" title="Make a post!">
      <img src="pictures/post3.png" class="" />
    </div>

  </body>
</html>
